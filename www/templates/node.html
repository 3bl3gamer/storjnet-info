{{define "title"}}{{.NodeIDStr}}{{end}}

{{define "node_id_info"}}
<p class="node-id-info">
	<b>Айди в base58:</b> {{.String}}<br>
	<b>Айди в HEX:</b> {{nodeIDHex .}}<br>
	<b>Айди побитно:</b> {{nodeIDBin .}}<br>
	<b>Сложность:</b> {{.Difficulty}}
</p>
{{end}}

{{define "content"}}
<h1 class="node-id">
	{{.NodeIDStr}}
</h1>

{{if .NodeIDIsInvalid}}
<p>
	Неправильный ID ноды, ошибка: <code>{{.NodeIDDecodeErr}}</code>
</p>
<p>
	Идентификатор должен быть в виде base58-сроки (например
	<code>118UWpMCHzs6CvSgWd9BfFVjw5K9pZbJjkfZJexMtSkmKxvvAW</code>).
</p>
{{else if .NodeIDNotFound}}
<p>
	Такого айди нет в базе статистики. Возможно, эта нода — новая, и не вся сеть ещё о ней не знает?
</p>
{{template "node_id_info" .Node.ID}}
{{else}}

{{template "node_id_info" .Node.ID}}

<h2>Местоположение</h2>
<p class="dim small">по базе GeoIP</p>
<p>
	{{if .Node.Location}}
	{{$lon := .Node.Location.Longitude}}
	{{$lat := .Node.Location.Latitude}}
	<a target="_blank" href="https://yandex.ru/maps/?ll={{$lon}},{{$lat}}&z=6&pt={{$lon}},{{$lat}}">
		<img width=432 height=300 title="Yandex map static image"
			src="https://static-maps.yandex.ru/1.x/?ll={{$lon}},{{$lat}}&size=648,450&z=6&l=map&scale=1.5&pt={{$lon}},{{$lat}},comma">
	</a>
</p>
<p>
	{{.Node.Location.Country}},
	{{if .Node.Location.City}}{{.Node.Location.City}},{{end}}
	{{$lat}}, {{$lon}}
	{{else}}
	Определить не удалось.
	{{end}}
</p>

<h2>Параметры ноды (из Kademlia)</h2>
<pre>{{formattedJSON .Node.KadParams}}</pre>
<span class="dim small">
	обновлено {{formatDateTime .Node.KadUpdatedAt .Lang}}, {{ago .Node.KadUpdatedAt .Lang}} назад
</span>

<h2>Параметры ноды (запрошенные напрямую)</h2>
<pre>{{formattedJSON .Node.SelfParams}}</pre>
<span class="dim small">
	обновлено {{formatDateTime .Node.SelfUpdatedAt .Lang}}, {{ago .Node.SelfUpdatedAt .Lang}} назад
</span>

{{end}}
{{end}}
